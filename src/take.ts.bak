import * as RS from 'redux-saga';
import * as RSE from 'redux-saga/effects';
import { take as rawTake } from 'redux-saga/effects';

import { /* AppAction as AppEvent, */ SagaGenerator } from './types';
import { EventLookup, Simplify } from './Utils';


export const makeTakeSafe = <Event extends RS.Action>() => {
  // @ts-ignore
  function takeSafe<EventType extends Event['type']>(pattern?: EventType): SagaGenerator<EventLookup<Event, EventType>, RSE.TakeEffect>;
  // @ts-ignore
  function takeSafe(...args) { return rawTake(...args); }

  return takeSafe
}
